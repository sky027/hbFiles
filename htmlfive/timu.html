<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="../js/jquery-3.4.1.js" type="text/javascript" charset="utf-8"></script>
		<style type="text/css">
			ul,li {list-style-type: none;}
			#inp{height: 32px;line-height: 32px;width: 280px;font-size: 18px;padding: 0 5px;}
		</style>
	</head>
	<body>
		<!--<div id="paper"></div>-->
		<h2>
			<input id="inp" />
		</h2>
		<h2>
			<button id="btns">NEW</button>
		</h2>
		<script type="text/javascript" charset="utf-8">
			//模拟题目list 
			var rows = [
				{
					reportCode: '1111', text: '题目11111', 
					itemDetailList: [
						{itemCode: '1111', listCode: 'an-1111', text: '选项-111111'},
						{itemCode: '1111', listCode: 'an-2222', text: '选项-22222'},
						{itemCode: '1111', listCode: 'an-3333', text: '选项-33333'},
						{itemCode: '1111', listCode: 'an-4444', text: '选项-444444'},
					]
				},
				{
					reportCode: '2222', text: '题目12222', 
					itemDetailList: [
						{itemCode: '2222', listCode: 'an-1111', text: '选项-111111'},
						{itemCode: '2222', listCode: 'an-2222', text: '选项-22222'},
						{itemCode: '2222', listCode: 'an-3333', text: '选项-33333'},
						{itemCode: '2222', listCode: 'an-4444', text: '选项-444444'},
					]
				},
				{
					reportCode: '3333', text: '题目3333', 
					itemDetailList: [
						{itemCode: '3333', listCode: 'an-1111', text: '选项-111111'},
						{itemCode: '3333', listCode: 'an-2222', text: '选项-22222'},
						{itemCode: '3333', listCode: 'an-3333', text: '选项-33333'},
						{itemCode: '3333', listCode: 'an-4444', text: '选项-444444'},
					]
				},
			];
			// 模拟答案list
			var answers = [
				{reportCode: '1111', listCode: 'an-2222'},
				{reportCode: '2222', listCode: 'an-4444'},
				{reportCode: '3333', listCode: 'an-1111'},
			];
			// 生成题目及选项
			for (var i = 0; i < rows.length; i++) {
				var html = '<ul class="answerUL" value="'+ rows[i].reportCode +'">';
				html += '<span>'+ (i+1) + '、' +rows[i].text +'</span>';
				for (var k = 0; k < rows[i].itemDetailList.length; k++) {
					var item = rows[i].itemDetailList[k];
					html += '<li><input class="answerLI" type="radio" name="an-'+ item.itemCode +'" value="'+ item.listCode +'" pid="'+ item.itemCode +'" />'+ item.text +'</li>'
				}
				html += '</ul>';
				$("#paper").append(html);
			}
			//匹配选项
			var options = $(".answerLI");
			for (var i=0; i<options.length; i++) {
				var val = $(options[i]).val();
				var pid = $(options[i]).attr('pid');
				for (var j = 0; j < answers.length; j++) {
					if (pid == answers[j].reportCode && val == answers[j].listCode) {
						$(options[i]).prop('checked', true);
						break;
					}
				}
			}
		</script>
		
		<script type="text/javascript">
			$("#inp").blur(function() {
				var val = $(this).val().trim();
				// var reg = /^([1-9][0-9]{0,2})$/;
				// var reg = /^[1-9]\d{0,2}$/;
				// var reg=/^[0-1]\.([1-9]{1,2}|[0-9][1-9])$|^[0-1]{0,1}(\.\d{1,2}){0,1}$|^1(\.0{1,2}){0,1}$/;
				var reg = /^(0\.[1-9]{0,2})|1$/;
				var reg1 = /^(0(\.\d{1,2})?|1(\.0{1,2})?)$/;
				
				var reg = /^(([^0][0-9]\d{0,2}|0)\.([0-9]{1,2})$)|(^[1-9])$/; // 小数或者整数
				var reg = /^([0-9]{1,2})+(.[0-9]{1,2})?$/;
				var reg = /^(0(\.\d{1,2})?|1(\.0{1,2})?)$/;
				if (reg.test(val)) {
					alert("YES");
				} else {
					alert("NO");
				}
			});
			$("#btns").click(function(){
				var url = 'http://10.5.24.236:4200/filink-trouble-server/trouble/troubleMessageConfirm/0A3OVZrRyMV7JT8M1xB/1/SD1608295623694';
				var url2 = './menu.html';
				window.open(url, 'AAAAA', 'height=400, width=800, top=30%,left=30%, toolbar=no, menubar=no, scrollbars=no, resizable=no,location=no, status=no');
			});
		</script>
	</body>
</html> 
